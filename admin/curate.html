<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE MATRIX // CURATION CONSOLE</title>

    <!-- PURE V4 STACK -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'matrix-bg': '#05010a',
                        'matrix-panel': '#0a0a0a',
                        'matrix-green': '#22c55e',
                        'matrix-border': 'rgba(34, 197, 94, 0.2)',
                        'matrix-text': '#e0e0e0',
                        'matrix-muted': '#6b7280'
                    },
                    fontFamily: {
                        mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', 'Liberation Mono', 'monospace'],
                        sans: ['system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="/src/style.css">
    <style>
        .drag-ghost {
            opacity: 0.4;
            background-color: rgba(34, 197, 94, 0.1);
            border: 1px dashed #22c55e;
        }

        .drag-chosen {
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
            border: 1px solid #22c55e;
        }

        .sortable-selected {
            background-color: rgba(34, 197, 94, 0.15) !important;
            border-color: #22c55e !important;
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #22c55e;
            border-radius: 2px;
        }
    </style>
</head>

<body
    class="pl-0 lg:pl-64 bg-matrix-bg text-matrix-text font-mono h-screen flex flex-col overflow-hidden selection:bg-matrix-green selection:text-black transition-all duration-300 ease-in-out">

    <!-- CODEX HEADER -->
    <nav
        class="w-full h-16 border-b border-matrix-border px-6 flex justify-between items-center bg-matrix-bg/90 z-50 shrink-0">
        <div class="flex items-center gap-4">
            <span class="w-2 h-2 rounded-full bg-matrix-green animate-pulse"></span>
            <span class="text-sm font-bold text-matrix-green tracking-widest uppercase">THE CURATION MATRIX //</span>
        </div>
        <div class="flex items-center gap-4">
            <button id="btn-save-order"
                class="hidden text-[10px] md:text-sm font-bold text-black bg-matrix-green transition-colors tracking-widest border border-matrix-green px-4 py-2 hover:bg-white hover:border-white">
                [ SAVE NEW SORT ORDER ]
            </button>
            <a href="/"
                class="text-[10px] md:text-sm font-bold text-matrix-muted hover:text-white transition-colors tracking-widest border border-matrix-border px-3 md:px-4 py-2 hover:bg-white/5">
                [ RETURN TO CODEX ]
            </a>
        </div>
    </nav>

    <!-- SPLIT WORKSPACE -->
    <main class="flex-1 flex overflow-hidden w-full max-w-[1600px] mx-auto">

        <!-- LEFT PANEL: MASTER FOLDERS -->
        <section class="w-1/3 flex flex-col border-r border-matrix-border bg-matrix-panel/30">
            <header class="p-4 border-b border-matrix-border flex justify-between items-center bg-matrix-bg shrink-0">
                <h2 class="text-xs font-bold text-matrix-green tracking-widest uppercase">Master Directories</h2>
                <div class="flex items-center gap-3">
                    <button id="btn-save-folder-order"
                        class="hidden text-[9px] font-bold text-black bg-matrix-green hover:bg-white hover:text-black tracking-widest px-2 py-1 transition-colors uppercase border border-matrix-green">
                        SAVE ORDER
                    </button>
                    <span id="series-count" class="text-[10px] text-matrix-muted tracking-widest">0 FOLDERS</span>
                    <button id="btn-new-folder"
                        class="text-[9px] font-bold text-black bg-matrix-green hover:bg-white hover:text-black tracking-widest px-2 py-1 transition-colors uppercase border border-matrix-green">
                        + NEW
                    </button>
                </div>
            </header>

            <div id="series-container" class="flex-1 overflow-y-auto custom-scrollbar p-4 space-y-2">
                <!-- Series Items Injected Here -->
            </div>
        </section>

        <!-- RIGHT PANEL: ARTICLES IN FOLDER -->
        <section class="w-2/3 flex flex-col bg-matrix-bg">
            <header
                class="p-4 border-b border-matrix-border flex justify-between items-center bg-matrix-bg shrink-0 relative">
                <h2 id="active-folder-title" class="text-xs font-bold text-white tracking-[0.2em] uppercase">UNASSIGNED
                    SINGLES</h2>
                <div class="flex items-center gap-3">
                    <button id="btn-sync-timeline" title="Organize current folder chronologically"
                        class="text-[9px] font-bold text-matrix-green hover:bg-matrix-green hover:text-black tracking-widest px-2 py-1 transition-colors uppercase border border-matrix-green">
                        SYNC TIMELINE
                    </button>
                    <input type="search" id="matrix-search" placeholder="SEARCH RECORDS..." name="rand_matrix_search"
                        autocomplete="new-password" autocorrect="off" autocapitalize="off" spellcheck="false"
                        data-lpignore="true" data-form-type="other" role="presentation" readonly
                        onfocus="this.removeAttribute('readonly');"
                        class="bg-transparent border-b border-matrix-green/50 text-xs text-white focus:outline-none focus:border-matrix-green px-2 py-1 placeholder-matrix-green/50 font-mono tracking-widest uppercase transition-colors w-32 md:w-48">
                    <span id="article-count"
                        class="text-[10px] text-matrix-muted tracking-widest shrink-0">LOADING...</span>
                </div>
                <!-- DECORATIVE CORNER -->
                <div class="absolute top-0 right-0 w-2 h-2 border-t border-r border-matrix-green"></div>
            </header>

            <div class="flex-1 p-6 overflow-hidden flex flex-col">
                <p class="text-[10px] text-matrix-green/60 uppercase tracking-widest mb-4 shrink-0">
                    /// Drag records up or down to set chronological order. <br>
                    /// Drag records from here into the left column to reassign them to a new Master Folder.
                </p>

                <div id="articles-container" class="flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-3 pb-20">
                    <!-- Article Items Injected Here -->
                </div>
            </div>
        </section>

    </main>

    <script type="module" src="/src/sidebar.js"></script>
    <script type="module" src="/admin/admin_curate.js"></script>
</body>

</html>